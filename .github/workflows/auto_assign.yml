# ==============================================================================
# Auto-Assign Issues & PRs
# ==============================================================================
# Asigna autom√°ticamente las issues y PRs al owner del repositorio.
# Para proyectos solo-developer, esto mantiene tracking consistente.
#
# PERMISOS REQUERIDOS:
# - pull-requests: write (para asignar PRs)
# - issues: write (para asignar issues)
#
# NOTAS:
# - Usa la acci√≥n 'pozil/auto-assign-issue@v2' para issues
# - El job de PR est√° deshabilitado porque la asignaci√≥n se maneja
#   en el workflow 'auto-label-pr.yml' que tambi√©n a√±ade labels
# - La asignaci√≥n es a 'prototyp33' (owner del repositorio)
# ==============================================================================

name: Auto Assign

on:
  issues:
    types: [opened]
  pull_request:
    types: [opened]

permissions:
  pull-requests: write
  issues: write

jobs:
  assign-issue:
    name: üìã Assign Issue
    runs-on: ubuntu-latest
    if: github.event_name == 'issues'

    steps:
      - name: Assign issue to owner
        uses: pozil/auto-assign-issue@v2
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          assignees: prototyp33
          numOfAssignee: 1

  # ========================================================================
  # NOTA: La asignaci√≥n de PRs se maneja en 'auto-label-pr.yml'
  # ========================================================================
  # El job 'assign-pr' ha sido eliminado porque la asignaci√≥n de PRs se
  # realiza autom√°ticamente en el workflow 'auto-label-pr.yml', que adem√°s
  # a√±ade labels bas√°ndose en el t√≠tulo del PR. Esto evita duplicaci√≥n de
  # funcionalidad y mantiene la l√≥gica centralizada.
  #
  # Si necesitas habilitar la asignaci√≥n solo de PRs aqu√≠ (sin labels),
  # puedes a√±adir un job similar al siguiente:
  #
  # assign-pr:
  #   name: üîÄ Assign PR
  #   runs-on: ubuntu-latest
  #   if: github.event_name == 'pull_request'
  #   steps:
  #     - name: Add assignee to PR
  #       uses: actions/github-script@v7
  #       with:
  #         script: |
  #           await github.rest.issues.addAssignees({
  #             owner: context.repo.owner,
  #             repo: context.repo.repo,
  #             issue_number: context.issue.number,
  #             assignees: ['prototyp33']
  #           });
  #           console.log('‚úÖ PR assigned to prototyp33');

